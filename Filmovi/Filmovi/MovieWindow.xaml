<Window x:Class="Filmovi.MovieWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:notifications="clr-namespace:Notification.Wpf.Controls;assembly=Notification.Wpf"
        xmlns:local="clr-namespace:Filmovi"
        mc:Ignorable="d"
        Title="MovieWindow" 
         AllowsTransparency="True"
         Background="Transparent"
         SizeToContent="WidthAndHeight"
         WindowStartupLocation="CenterScreen"
         MouseLeftButtonDown="Window_MouseLeftButtonDown"
         WindowStyle="None">
    <Window.Resources>
        <Style x:Key="DataGridCellStyle" TargetType="DataGridCell">
            <Setter Property="HorizontalContentAlignment" Value="Center"></Setter>
            <Setter Property="VerticalContentAlignment" Value="Center"></Setter>
        </Style>
    </Window.Resources>
    
    <Canvas Width="600" Height="500">
        <notifications:NotificationArea
         x:Name="WindowNotificationArea"
         Width="400"
         Panel.ZIndex="800"
         MaxItems="3"
         Position="TopCenter"/>
        <Rectangle
     Width="600"
     Height="500"
     Fill="#FF34408F"
     Stroke="DarkGray"
     StrokeThickness="2"
     RadiusX="70"
     RadiusY="70"/>
        <StackPanel 
         Name="MainStackPanel"
         Canvas.Left="15"
         Canvas.Top="15">
            <Grid Margin="220 10 0 0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition></ColumnDefinition>
                    <ColumnDefinition></ColumnDefinition>
                    <ColumnDefinition></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <Label Name="LabelMovie" Grid.Column="1" Content="MOVIES" FontSize="25" FontWeight="Bold" HorizontalAlignment="Center" Margin="0 0 160 0" Foreground="#FFF1C61F"/>
                <Grid Grid.Column="2">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition></ColumnDefinition>
                        <ColumnDefinition></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Button Name="ButtonMinimize" Grid.Column="0" Margin="0 0 10 0" Style="{StaticResource button_minimize}" Click="ButtonMinimize_Click"></Button>
                    <Button Name="ButtonClose" Grid.Column="1" Margin="0 0 10 0" Style="{StaticResource button_close}" Click="ButtonClose_Click"/>
                </Grid>
            </Grid>

            <StackPanel>

                <Canvas Height="60">

                    <Ellipse Name="KrugSlika" Width="60" Height="60" HorizontalAlignment="Left">
                        <Ellipse.Fill>
                            <ImageBrush ImageSource="/Slike/profile.png"></ImageBrush>
                        </Ellipse.Fill>
                    </Ellipse>


                    <Path StrokeThickness="2" Fill="#FFE5E5E5" Canvas.Bottom="10" Canvas.Left="60" Height="40" Stretch="Fill" Canvas.Top="10" Width="113">
                        <Path.Data>
                            <PathGeometry>
                                <PathFigure StartPoint="50,50">
                                    <!-- Gornja prava linija -->
                                    <LineSegment Point="250,50" />

                                    <!-- Desni luk -->
                                    <ArcSegment Point="250,100"
                                Size="25,25"
                                SweepDirection="Clockwise"
                                IsLargeArc="False" />

                                    <!-- Donja prava linija -->
                                    <LineSegment Point="50,100" />

                                    <!-- Levi luk -->
                                    <ArcSegment Point="50,50"
                                Size="25,27"
                                                
                                SweepDirection="Counterclockwise"
                                IsLargeArc="False" />
                                </PathFigure>
                            </PathGeometry>
                        </Path.Data>
                    </Path>
                    <TextBlock Name="TextBlockUser" Text="ADMIN" FontSize="22" Canvas.Left="80" Canvas.Top="15" FontWeight="SemiBold" ></TextBlock>
                </Canvas>

            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <CheckBox Name="CheckBoxAll" Margin="40 10 0 0" Checked="CheckBoxAll_Checked" Unchecked="CheckBoxAll_Unchecked" />
                <Label Name="CheckBoxLabel" Content="Check All Movies" Foreground="White" FontSize="15" Margin="0 2 0 0"/>
            </StackPanel>
            <DataGrid Name="DataGridMovie" ItemsSource="{Binding Movies}"  RowHeight="60" Width="500" Height="260" Margin="0 0 0 0" IsReadOnly="True" AutoGenerateColumns="False"
                      ScrollViewer.CanContentScroll="True" 
ScrollViewer.VerticalScrollBarVisibility="Auto"
ScrollViewer.HorizontalScrollBarVisibility="Auto"
                      Background="Transparent"
                      BorderThickness="0"
                      RowStyle="{StaticResource data_grid_row_headher}"
                      ColumnHeaderStyle="{StaticResource DataGridHeaderStyle}">
           
                <DataGrid.Columns>
                    <DataGridTemplateColumn Width="*" >
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <CheckBox IsChecked="{Binding IsSelected,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    <DataGridTemplateColumn Header="Naziv filma" Width="2*">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock>
                                <Hyperlink Click="Hyperlink_Click" Style="{StaticResource sss}">
                                    <Run Text="{Binding Title}" />
                                </Hyperlink>
                                </TextBlock>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                    <DataGridTemplateColumn Header="Slika" Width="2*">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Image Source="{Binding ImagePath}" Width="40" Height="50"/>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                    <DataGridTextColumn Header="Datum" Width="3*" Binding="{Binding DateAdded}">
                        <DataGridTextColumn.ElementStyle>
                            <StaticResource ResourceKey="CenterAlignedTextStyle"/>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>
                </DataGrid.Columns>

            </DataGrid>

            <StackPanel Name="StackPanelForModification" Orientation="Horizontal" HorizontalAlignment="Center">
                <Button Name="ButtonAdd" Style="{StaticResource button_log_in}" Margin="0 15 0 0" Content="ADD" Click="ButtonAdd_Click" ToolTip="ADD"/>
                <Button Name="ButtonDelete" Style="{StaticResource button_log_in}" Margin="10 15 0 0" Content="DELETE" Click="ButtonDelete_Click" ToolTip="DELETE"/>
            </StackPanel>

        </StackPanel>
    </Canvas>
</Window>
